CMAKE_MINIMUM_REQUIRED(VERSION 3.1)

PROJECT(PeanutButterNJelly)

SET(CMAKE_CXX_STANDARD 11)
SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_CURRENT_LIST_DIR}/cmake/")
SET(OSPRAY_BUILD_DIR "/export/ahota/ospray/1.1.0/build/"
    CACHE FILEPATH "Path to OSPRay build directory")

FIND_PACKAGE(OSPRay REQUIRED)

MESSAGE(STATUS ${OSPRAY_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(include ${OSPRAY_INCLUDE_DIRS})

SET(PBNJ_INCLUDE_DIRS "${CMAKE_CURRENT_LIST_DIR}/include" ${OSPRAY_INCLUDE_DIRS})
FILE(GLOB SOURCES "src/*.cpp")

ADD_LIBRARY(pbnj SHARED ${SOURCES})

INCLUDE_DIRECTORIES(include "/home/mohammad/repos/lodepng")

ADD_EXECUTABLE(simpleVolumeRender ${SOURCES} "src/test/simpleVolumeRender.cpp")

TARGET_INCLUDE_DIRECTORIES(pbnj PUBLIC ${PBNJ_INCLUDE_DIRS})

TARGET_LINK_LIBRARIES(pbnj ${OSPRAY_LIBRARIES})
TARGET_LINK_LIBRARIES(simpleVolumeRender ${OSPRAY_LIBRARIES})
